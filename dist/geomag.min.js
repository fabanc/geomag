/**
 * @license geomag
 * (c) 2020 Jan Greis
 * licensed under MIT
 */
!function(t,a){"object"==typeof exports&&"undefined"!=typeof module?a(exports):"function"==typeof define&&define.amd?define(["exports"],a):a((t=t||self).geomag={})}(this,(function(t){"use strict";for(var a=[[0,0,0,0,0,0,0,0,0,0,0,0,0],[-29351.8,-1410.8,0,0,0,0,0,0,0,0,0,0,0],[-2556.6,2951.1,1649.3,0,0,0,0,0,0,0,0,0,0],[1361,-2404.1,1243.8,453.6,0,0,0,0,0,0,0,0,0],[895,799.5,55.7,-281.1,12.1,0,0,0,0,0,0,0,0],[-233.2,368.9,187.2,-138.7,-142,20.9,0,0,0,0,0,0,0],[64.4,63.8,76.9,-115.7,-40.9,14.9,-60.7,0,0,0,0,0,0],[79.5,-77,-8.8,59.3,15.8,2.5,-11.1,14.2,0,0,0,0,0],[23.2,10.8,-17.5,2,-21.7,16.9,15,-16.8,.9,0,0,0,0],[4.6,7.8,3,-.2,-2.5,-13.1,2.4,8.6,-8.7,-12.9,0,0,0],[-1.3,-6.4,.2,2,-1,-.6,-.9,1.5,.9,-2.7,-3.9,0,0],[2.9,-1.5,-2.5,2.4,-.6,-.1,-.6,-.1,1.1,-1,-.2,2.6,0],[-2,-.2,.3,1.2,-1.3,.6,.6,.5,-.1,-.4,-.2,-1.3,-.7]],r=[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,4545.4,0,0,0,0,0,0,0,0,0,0,0],[0,-3133.6,-815.1,0,0,0,0,0,0,0,0,0,0],[0,-56.6,237.5,-549.5,0,0,0,0,0,0,0,0,0],[0,278.6,-133.9,212,-375.6,0,0,0,0,0,0,0,0],[0,45.4,220.2,-122.9,43,106.1,0,0,0,0,0,0,0],[0,-18.4,16.8,48.8,-59.8,10.9,72.7,0,0,0,0,0,0],[0,-48.9,-14.4,-1,23.4,-7.4,-25.1,-2.3,0,0,0,0,0],[0,7.1,-12.6,11.4,-9.7,12.7,.7,-5.2,3.9,0,0,0,0],[0,-24.8,12.2,8.3,-3.3,-5.2,7.2,-.6,.8,10,0,0,0],[0,3.3,0,2.4,5.3,-9.1,.4,-4.2,-3.8,.9,-9.1,0,0],[0,0,2.9,-.6,.2,.5,-.3,-1.2,-1.7,-2.9,-1.8,-2.3,0],[0,-1.3,.7,1,-1.4,0,.6,-.1,.8,.1,-1,.1,.2]],n=[[0,0,0,0,0,0,0,0,0,0,0,0,0],[12,9.7,0,0,0,0,0,0,0,0,0,0,0],[-11.6,-5.2,-8,0,0,0,0,0,0,0,0,0,0],[-1.3,-4.2,.4,-15.6,0,0,0,0,0,0,0,0,0],[-1.6,-2.4,-6,5.6,-7,0,0,0,0,0,0,0,0],[.6,1.4,0,.6,2.2,.9,0,0,0,0,0,0,0],[-.2,-.4,.9,1.2,-.9,.3,.9,0,0,0,0,0,0],[-0,-.1,-.1,.5,-.1,-.8,-.8,.8,0,0,0,0,0],[-.1,.2,0,.5,-.1,.3,.2,-0,.2,0,0,0,0],[-0,-.1,.1,.3,-.3,0,.3,-.1,.1,-.1,0,0,0],[.1,0,.1,.1,-0,-.3,0,-.1,-.1,-0,-0,0,0],[0,-0,0,0,0,-.1,0,-0,-.1,-.1,-.1,-.1,0],[0,0,-0,-0,-0,-0,.1,-0,0,0,-.1,-0,-.1]],o=[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,-21.5,0,0,0,0,0,0,0,0,0,0,0],[0,-27.7,-12.1,0,0,0,0,0,0,0,0,0,0],[0,4,-.3,-4.1,0,0,0,0,0,0,0,0,0],[0,-1.1,4.1,1.6,-4.4,0,0,0,0,0,0,0,0],[0,-.5,2.2,.4,1.7,1.9,0,0,0,0,0,0,0],[0,.3,-1.6,-.4,.9,.7,.9,0,0,0,0,0,0],[0,.6,.5,-.8,0,-1,.6,-.2,0,0,0,0,0],[0,-.2,.5,-.4,.4,-.5,-.6,.3,.2,0,0,0,0],[0,-.3,.3,-.3,.3,.2,-.1,-.2,.4,.1,0,0,0],[0,0,-0,-.2,.1,-.1,.1,0,-.1,.2,-0,0,0],[0,-0,.1,-0,.1,-0,-0,.1,-0,0,0,0,0],[0,-0,0,-.1,.1,-0,-0,-0,0,-0,-0,0,-.1]],e=6378.137,h=6356.7523142,M=6371.2,i=function(t,a){return Array(t).fill("").map((function(t){return Array(a).fill(0)}))},f=function(t,a){return Number(Math.round(Number(t+"e+"+a))+"e-"+a)},u=function(t){return.017453292519943295*t},p=function(t){return 57.29577951308232*t},s=i(13,13),w=i(13,13),c=i(13,13),l=i(13,13),d=Array(13).fill(0),v=Array(13).fill(0),y=Array(13).fill(0),m=i(13,13).map((function(t){return t.map((function(t){return[0,0]}))})),q=2;q<=12;q++)y[q]=Math.sqrt((2*q-1)/(2*q));for(var x=0;x<=12;x++){var A=x*x;for(q=Math.max(x+1,2);q<=12;q++)m[x][q][0]=Math.sqrt((q-1)*(q-1)-A),m[x][q][1]=1/Math.sqrt(q*q-A)}t.field=function(t,i,q){void 0===q&&(q=0);var x=Math.cos(u(t)),A=Math.sin(u(t)),I=Math.sqrt(Math.pow(e,2)*Math.pow(x,2)+Math.pow(h,2)*Math.pow(A,2)),b=Math.atan2(x*(q*I+Math.pow(e,2)),A*(q*I+Math.pow(h,2))),g=Math.sqrt(Math.pow(q,2)+2*q*I+(Math.pow(e,4)-(Math.pow(e,4)-Math.pow(h,4))*Math.pow(A,2))/(Math.pow(e,2)-(Math.pow(e,2)-Math.pow(h,2))*Math.pow(A,2))),j=Math.cos(b),D=Math.sin(b),N=1/(D+(0===D?1e-8:0));s[0][0]=1,s[1][1]=D,s[1][0]=j,w[1][0]=-D,w[1][1]=j;for(var O=2;O<=12;O++)s[O][O]=s[O-1][O-1]*D*y[O],w[O][O]=(w[O-1][O-1]*D+s[O-1][O-1]*j)*y[O];for(var P=0;P<=12;P++)for(O=Math.max(P+1,2);O<=12;O++)s[O][P]=(s[O-1][P]*j*(2*O-1)-s[O-2][P]*m[P][O][0])*m[P][O][1],w[O][P]=((w[O-1][P]*j-s[O-1][P]*D)*(2*O-1)-w[O-2][P]*m[P][O][0])*m[P][O][1];var _=(new Date(Date.now()).valueOf()/864e5+2440587.5-2460677)/365.25;for(O=1;O<=12;O++)for(P=0;P<=12;P++)c[O][P]=a[O][P]+_*n[O][P],l[O][P]=r[O][P]+_*o[O][P];for(P=0;P<=12;P++)d[P]=Math.sin(P*u(i)),v[P]=Math.cos(P*u(i));var z=0,k=0,B=0,C=M/g,E=Math.pow(C,2);for(O=1;O<=12;O++){var F=0,G=0,H=0;for(P=0;P<=O;P++){var J=c[O][P]*v[P]+l[O][P]*d[P];F+=J*s[O][P],G+=J*w[O][P],H+=P*(c[O][P]*d[P]-l[O][P]*v[P])*s[O][P]}z+=(O+1)*F*(E*=C),k-=G*E,B+=H*E*N}var K=b-(Math.PI/2-u(t)),L=Math.sin(K),Q=Math.cos(K),R=-k*Q-z*L,S=B,T=k*L-z*Q,U=0!==R||0!==S?f(p(Math.atan2(S,R)),2):0,V=0!==S||0!==R&&0!==T?function(t){return t>90?t-180:t<-90?t+180:t}(p(Math.atan2(T*Math.sin(Math.atan2(S,R)),S))):0;return{declination:f(U,2),inclination:f(V,2),intensity:Math.round(Math.sqrt(Math.pow(R,2)+Math.pow(S,2)+Math.pow(T,2))),northIntensity:Math.round(R),eastIntensity:Math.round(S),verticalIntensity:Math.round(T),horizontalIntensity:Math.round(Math.sqrt(Math.pow(R,2)+Math.pow(S,2)))}},Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=geomag.min.js.map
