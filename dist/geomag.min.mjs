/**
 * @license geomag
 * (c) 2020 Jan Greis
 * licensed under MIT
 */
for(var t=[[0,0,0,0,0,0,0,0,0,0,0,0,0],[-29351.8,-1410.8,0,0,0,0,0,0,0,0,0,0,0],[-2556.6,2951.1,1649.3,0,0,0,0,0,0,0,0,0,0],[1361,-2404.1,1243.8,453.6,0,0,0,0,0,0,0,0,0],[895,799.5,55.7,-281.1,12.1,0,0,0,0,0,0,0,0],[-233.2,368.9,187.2,-138.7,-142,20.9,0,0,0,0,0,0,0],[64.4,63.8,76.9,-115.7,-40.9,14.9,-60.7,0,0,0,0,0,0],[79.5,-77,-8.8,59.3,15.8,2.5,-11.1,14.2,0,0,0,0,0],[23.2,10.8,-17.5,2,-21.7,16.9,15,-16.8,.9,0,0,0,0],[4.6,7.8,3,-.2,-2.5,-13.1,2.4,8.6,-8.7,-12.9,0,0,0],[-1.3,-6.4,.2,2,-1,-.6,-.9,1.5,.9,-2.7,-3.9,0,0],[2.9,-1.5,-2.5,2.4,-.6,-.1,-.6,-.1,1.1,-1,-.2,2.6,0],[-2,-.2,.3,1.2,-1.3,.6,.6,.5,-.1,-.4,-.2,-1.3,-.7]],a=[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,4545.4,0,0,0,0,0,0,0,0,0,0,0],[0,-3133.6,-815.1,0,0,0,0,0,0,0,0,0,0],[0,-56.6,237.5,-549.5,0,0,0,0,0,0,0,0,0],[0,278.6,-133.9,212,-375.6,0,0,0,0,0,0,0,0],[0,45.4,220.2,-122.9,43,106.1,0,0,0,0,0,0,0],[0,-18.4,16.8,48.8,-59.8,10.9,72.7,0,0,0,0,0,0],[0,-48.9,-14.4,-1,23.4,-7.4,-25.1,-2.3,0,0,0,0,0],[0,7.1,-12.6,11.4,-9.7,12.7,.7,-5.2,3.9,0,0,0,0],[0,-24.8,12.2,8.3,-3.3,-5.2,7.2,-.6,.8,10,0,0,0],[0,3.3,0,2.4,5.3,-9.1,.4,-4.2,-3.8,.9,-9.1,0,0],[0,0,2.9,-.6,.2,.5,-.3,-1.2,-1.7,-2.9,-1.8,-2.3,0],[0,-1.3,.7,1,-1.4,0,.6,-.1,.8,.1,-1,.1,.2]],r=[[0,0,0,0,0,0,0,0,0,0,0,0,0],[12,9.7,0,0,0,0,0,0,0,0,0,0,0],[-11.6,-5.2,-8,0,0,0,0,0,0,0,0,0,0],[-1.3,-4.2,.4,-15.6,0,0,0,0,0,0,0,0,0],[-1.6,-2.4,-6,5.6,-7,0,0,0,0,0,0,0,0],[.6,1.4,0,.6,2.2,.9,0,0,0,0,0,0,0],[-.2,-.4,.9,1.2,-.9,.3,.9,0,0,0,0,0,0],[-0,-.1,-.1,.5,-.1,-.8,-.8,.8,0,0,0,0,0],[-.1,.2,0,.5,-.1,.3,.2,-0,.2,0,0,0,0],[-0,-.1,.1,.3,-.3,0,.3,-.1,.1,-.1,0,0,0],[.1,0,.1,.1,-0,-.3,0,-.1,-.1,-0,-0,0,0],[0,-0,0,0,0,-.1,0,-0,-.1,-.1,-.1,-.1,0],[0,0,-0,-0,-0,-0,.1,-0,0,0,-.1,-0,-.1]],n=[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,-21.5,0,0,0,0,0,0,0,0,0,0,0],[0,-27.7,-12.1,0,0,0,0,0,0,0,0,0,0],[0,4,-.3,-4.1,0,0,0,0,0,0,0,0,0],[0,-1.1,4.1,1.6,-4.4,0,0,0,0,0,0,0,0],[0,-.5,2.2,.4,1.7,1.9,0,0,0,0,0,0,0],[0,.3,-1.6,-.4,.9,.7,.9,0,0,0,0,0,0],[0,.6,.5,-.8,0,-1,.6,-.2,0,0,0,0,0],[0,-.2,.5,-.4,.4,-.5,-.6,.3,.2,0,0,0,0],[0,-.3,.3,-.3,.3,.2,-.1,-.2,.4,.1,0,0,0],[0,0,-0,-.2,.1,-.1,.1,0,-.1,.2,-0,0,0],[0,-0,.1,-0,.1,-0,-0,.1,-0,0,0,0,0],[0,-0,0,-.1,.1,-0,-0,-0,0,-0,-0,0,-.1]],o=6378.137,h=6356.7523142,M=6371.2,i=function(t,a){return Array(t).fill("").map((function(t){return Array(a).fill(0)}))},e=function(t,a){return Number(Math.round(Number(t+"e+"+a))+"e-"+a)},u=function(t){return.017453292519943295*t},f=function(t){return 57.29577951308232*t},p=i(13,13),w=i(13,13),s=i(13,13),c=i(13,13),l=Array(13).fill(0),v=Array(13).fill(0),y=Array(13).fill(0),d=i(13,13).map((function(t){return t.map((function(t){return[0,0]}))})),m=2;m<=12;m++)y[m]=Math.sqrt((2*m-1)/(2*m));for(var q=0;q<=12;q++){var A=q*q;for(m=Math.max(q+1,2);m<=12;m++)d[q][m][0]=Math.sqrt((m-1)*(m-1)-A),d[q][m][1]=1/Math.sqrt(m*m-A)}var I=function(i,m,q){void 0===q&&(q=0);var A=Math.cos(u(i)),I=Math.sin(u(i)),x=Math.sqrt(Math.pow(o,2)*Math.pow(A,2)+Math.pow(h,2)*Math.pow(I,2)),b=Math.atan2(A*(q*x+Math.pow(o,2)),I*(q*x+Math.pow(h,2))),D=Math.sqrt(Math.pow(q,2)+2*q*x+(Math.pow(o,4)-(Math.pow(o,4)-Math.pow(h,4))*Math.pow(I,2))/(Math.pow(o,2)-(Math.pow(o,2)-Math.pow(h,2))*Math.pow(I,2))),N=Math.cos(b),z=Math.sin(b),O=1/(z+(0===z?1e-8:0));p[0][0]=1,p[1][1]=z,p[1][0]=N,w[1][0]=-z,w[1][1]=N;for(var P=2;P<=12;P++)p[P][P]=p[P-1][P-1]*z*y[P],w[P][P]=(w[P-1][P-1]*z+p[P-1][P-1]*N)*y[P];for(var g=0;g<=12;g++)for(P=Math.max(g+1,2);P<=12;P++)p[P][g]=(p[P-1][g]*N*(2*P-1)-p[P-2][g]*d[g][P][0])*d[g][P][1],w[P][g]=((w[P-1][g]*N-p[P-1][g]*z)*(2*P-1)-w[P-2][g]*d[g][P][0])*d[g][P][1];var j=(new Date(Date.now()).valueOf()/864e5+2440587.5-2460677)/365.25;for(P=1;P<=12;P++)for(g=0;g<=12;g++)s[P][g]=t[P][g]+j*r[P][g],c[P][g]=a[P][g]+j*n[P][g];for(g=0;g<=12;g++)l[g]=Math.sin(g*u(m)),v[g]=Math.cos(g*u(m));var k=0,B=0,C=0,E=M/D,F=Math.pow(E,2);for(P=1;P<=12;P++){var G=0,H=0,J=0;for(g=0;g<=P;g++){var K=s[P][g]*v[g]+c[P][g]*l[g];G+=K*p[P][g],H+=K*w[P][g],J+=g*(s[P][g]*l[g]-c[P][g]*v[g])*p[P][g]}k+=(P+1)*G*(F*=E),B-=H*F,C+=J*F*O}var L=b-(Math.PI/2-u(i)),Q=Math.sin(L),R=Math.cos(L),S=-B*R-k*Q,T=C,U=B*Q-k*R,V=0!==S||0!==T?e(f(Math.atan2(T,S)),2):0,W=0!==T||0!==S&&0!==U?function(t){return t>90?t-180:t<-90?t+180:t}(f(Math.atan2(U*Math.sin(Math.atan2(T,S)),T))):0;return{declination:e(V,2),inclination:e(W,2),intensity:Math.round(Math.sqrt(Math.pow(S,2)+Math.pow(T,2)+Math.pow(U,2))),northIntensity:Math.round(S),eastIntensity:Math.round(T),verticalIntensity:Math.round(U),horizontalIntensity:Math.round(Math.sqrt(Math.pow(S,2)+Math.pow(T,2)))}};export{I as field};
//# sourceMappingURL=geomag.min.mjs.map
